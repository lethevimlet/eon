<template>
  <div class="vc-grid-cellContent vc-bg1-outline"></div>
</template>

<script type="text/javascript">
  eon.element("vc-cell", "", {
    
    properties: {
      /*
      @property {string} value
      @description String to be inserted in a span
      */
      value: {
        value: "",
        reflect: true
      },
      /*
      @property {string} column
      @description Name of the column in which the cell is
      */
      column: {
        value: "",
        reflect: true
      },
      /*
      @property {string} type
      @description Cell type, it can be header or entry
      */
      type: {
        value: "entry",
        reflect: true
      },
      /*
      @property {string} content
      @description Reference to the content node
      */
      content: {
        value: "",
        reflect: false
      }
    },

    privateFunctions: {
      /*
      @function generateContent
      @description Generates the content with the given value
      */
      generateContent: function() {

        var el = this;

        if (el.type == "header") {

          var headerCellIcon = document.createElement("i");

          el.classList.add("vc-unselectable");

          headerCellIcon.classList.add("vicon");
          headerCellIcon.classList.add("vc-grid-sortIcon");

          if (document.documentMode) {
            el._createHeaderStyleForIE(headerCellIcon)
          }

          el.appendChild(headerCellIcon);
        }

      },
      /*
      @function createCellContentStyleForIE
      @description CSS changes for the content on IE
      */
      createHeaderStyleForIE: function(icon) {

        el.content.style.position = "absolute";
        el.content.style.left = "0";
        el.content.style.top = "0";
        el.content.style.right = "0";
        el.content.style.bottom = "0";
        el.content.style.display = "flex";
        el.content.style.justifyContent = "center";
        el.content.style.alignItems = "center";

        icon.style.position = "absolute";
        icon.style.top = "0";
        icon.style.bottom = "0"; 
        icon.style.display = "flex";
        icon.style.justifyContent = "center";
        icon.style.alignItems = "center";

      }
    },

    onCreated: function () {
      this.content = this.template.querySelector(".vc-grid-cellContent")
    },

    onRender: function() {
      this._generateContent();
    }

  });
</script>
