<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <!-- Import VimletJS  -->
  <title>VC-STORE</title>
  <script src="/vcomet/vcomet.js"></script>

  <!-- UI components -->
  <script>
    vcomet.import("/vcomet/data/vc-endpoint/vc-endpoint.html");
  </script>

  <!-- Example style -->
  <link rel="stylesheet" href="/example/data/css/style.css">
  <link rel="stylesheet" href="/example/data/css/store.css">

</head>

<body>

  <!-- vc-store usage -->
  <script>

    // Store object
    var store = new vcomet.store();
    var endpoint = new vcomet.endpoint();

    store.onLoaded(function () {
      console.log('store loaded', store);

      // -- MEMORY -- 
      store.data = {
        1: {
          name: "Cain",
          last: "Aman"
        }
      }
      // ** Create
      store.create({
        name: "Alain",
        last: "Petre"
      }).result(function (error, data) {
        // console.log("created", data);
      });
      // ** Delete
      store.create({
        name: "Peter",
        last: "Petrelli"
      }).result(function (error, data) {
        // console.log("created", data);
      });


      console.log('store data', store.data);
    });



    endpoint.onLoaded(function () {
      // console.log('endpoint loaded', endpoint);
    });


      // Wait for store craetion
      // store.onCreated(function(){
      //   // Make sure the store adapter is loaded
      //   store.onLoaded(function(){

      //     // -- MEMORY -- 
      //     store.data = {
      //       1: {
      //         name: "Cain",
      //         last: "Aman"
      //       }
      //     };
      //     // ** Create
      //     store.create({
      //       name: "Alain",
      //       last: "Petre"
      //     }).result(function (error, data) {
      //       // console.log("created", data);
      //       // ** Delete
      //       store.delete("0").result(function (error, data) {
      //         // console.log("deleted", data);
      //         // ** Read
      //         store.read().result(function (error, data) {
      //           console.log("read", store.data);
      //         });
      //       });
      //     });

      //     // ** Update
      //     // store.update("0", {
      //     //     name: "Cain",
      //     //     last: "Aman"
      //     // }).result(function (error, data) {
      //     //   // console.log("updated", data);
      //     // });
      //     // // ** Delete
      //     // store.delete("0").result(function (error, data) {
      //     //   console.log("deleted", data);
      //     // });
      //     // store.create({
      //     //   name: "John",
      //     //   last: "Doe"
      //     // }).result(function (error, data) {
      //     //   console.log("created", data);

      //     // });
      //     // ** MEMORY

      //   });
      // });

  </script>
</body>

</html>