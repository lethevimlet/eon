<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <title>eon-SEARCHBAR</title>
  <script src="/eon/eon.js"></script>

  <script>
    eon.import([
    "/eon/ui/eon-searchbar",
    "/eon/ui/eon-date",
    "/eon/ui/eon-text",
    "/eon/ui/eon-item"
    ]);
  </script>

  <style media="screen">
    html,
    body {
      align-items: center;
      display: flex;
      justify-content: space-around;
      flex-direction: column;
      background-color: #404040;
      height: 100%;
      width: 100%;
      padding: 0;
      margin: 0;
    }

    .filterTestContainer {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    eon-searchbar .eon-searchbar-filters .content {
      display: flex;
      flex-direction: column;
      color: #c1c1c1;
      margin: 10px;
      opacity: 1;
      flex-grow: 1;
    }

    eon-searchbar .eon-searchbar-filters .content .row {
      justify-content: space-around;
      display: flex;
      color: #c1c1c1;
      margin: 10px;
      flex-grow: 1;
    }

    .onlyInput .eon-searchbar-field {
      background-color: transparent !important;
      margin-left: 10px;
    }

    .onlyInput .eon-searchbar-field input {
      outline: none;
      background: transparent;
      border: none;
      color: #c1c1c1;
      padding: 0 10px;
    }

    .toFilterOnlyInput {
      background-color: #3a3a3a;
      margin-top: 30px;
      padding: 20px;
      color: #c1c1c1;
      height: 250px;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      box-sizing: border-box;
      align-items: center;
      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }

    .toFilterOnlyInput div {
      padding: 10px 10px;
      display: none;
    }

    .toFilterOnlyInput div.eon-searchbar-visible {
      display: flex;
    }
  </style>

</head>

<body>

  <eon-searchbar class="dates">
    <eon-date name="startDate"
         mask="DDMMYYYY"
         weekstart="monday"
         weekdaysformat="short"
         valueformat="YYYY/MM/DD"
         width=200
         pickerfontsize=14.4
         pickerwidth=200
         pickerheight=180
         toolbar="true"
         pickerposition="bottom"
         pickerselectable="dmy"> </eon-date>
    <eon-date name="endDate"
         mask="DDMMYYYY"
         weekstart="monday"
         weekdaysformat="short"
         valueformat="YYYY/MM/DD"
         width=200
         pickerfontsize=14.4
         pickerwidth=200
         pickerheight=180
         toolbar="true"
         pickerposition="bottom"
         pickerselectable="dmy"> </eon-date>
    <eon-item type="filters">
      <div class="content">
        <div class="row">
          <label><input type="checkbox" name="one" id="cbox1" value="first_checkbox"> Checkbox 1</label><br>
          <label><input type="checkbox" name="two" id="cbox2" value="first_checkbox"> Checkbox 2</label><br>
        </div>
        <div class="row">
          <label><input type="checkbox" name="three" id="cbox3" value="first_checkbox"> Checkbox 1</label><br>
          <label><input type="checkbox" name="four" id="cbox4" value="first_checkbox"> Checkbox 2</label><br>
        </div>
        <div class="row">
          <label><input type="checkbox" name="five" id="cbox5" value="first_checkbox"> Checkbox 1</label><br>
          <label><input type="checkbox" name="six" id="cbox6" value="first_checkbox"> Checkbox 2</label><br>
        </div>
      </div>
    </eon-item>
  </eon-searchbar>

  <div class="filterTestContainer">

    <eon-searchbar class="onlyInput">
      <eon-text name="name" onkeyup='document.querySelector(".onlyInput").search(document.querySelector(".onlyInput"));'></eon-text>
    </eon-searchbar>

    <div class="toFilterOnlyInput">
      <div value="Green"
           class="eon-searchbar-visible">Green</div>
      <div value="Red"
           class="eon-searchbar-visible">Red</div>
      <div value="Gray"
           class="eon-searchbar-visible">Gray</div>
      <div value="Pink"
           class="eon-searchbar-visible">Pink</div>
    </div>
  </div>

  <script type="text/javascript">
    eon.onReady(function () {
      document.querySelector(".onlyInput").onSearch(function(filters) {

        var name = filters.name;
        var toFilterChilds = document.querySelector(".toFilterOnlyInput").children;

        for (var i = 0; i < toFilterChilds.length; i++) {

          if (toFilterChilds[i].getAttribute("value").toLowerCase().indexOf(name.toLowerCase()) > -1) {
            toFilterChilds[i].classList.add("eon-searchbar-visible");
          } else {
            toFilterChilds[i].classList.remove("eon-searchbar-visible");
          }
        }

      });

      document.querySelector(".dates").onSearch(function(filters) {
        console.log(filters);
      });
    });
  </script>

</body>

</html>
