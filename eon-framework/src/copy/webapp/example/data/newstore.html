<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <!-- Import VimletJS  -->
  <title>eon-STORE</title>
  <script src="/eon/eon.js"></script>

  <!-- UI components -->
  <script>
    eon.import("/eon/data/eon-endpoint/eon-endpoint.html");
  </script>

  <!-- Example style -->
  <link rel="stylesheet" href="/example/data/css/style.css">
  <link rel="stylesheet" href="/example/data/css/store.css">

</head>

<body>

  <!-- eon-store usage -->
  <script>

    // Store object
    var store = new eon.store();
    var endpoint = new eon.endpoint();

    store.onLoaded(function () {
      // -- MEMORY -- 
      store.data = {
        1: {
          name: "Cain",
          last: "Aman"
        },
        2: {
          name: "Samuel",
          last: "Milano"
        }
      }
      // ** Create
      store.create({
        name: "Alain",
        last: "Petre"
      }).result(function (error, data) {});

      // ** Delete
      store.delete("1").result(function (error, data) {});

      // ** Update
      store.update("3", {
        name: "Alain",
        last: "Petre",
        age: 14
      }).result(function (error, data) {});

      // ** read
      store.read("3").result(function (error, data) {
        console.log('read', data);
      });

      console.log('store data', store.data, store.size);
      // ** MEMORY
    });

    endpoint.onLoaded(function () {
      // console.log('endpoint loaded', endpoint);
    });

  </script>
</body>

</html>