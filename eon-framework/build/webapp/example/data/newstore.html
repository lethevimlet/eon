<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <!-- Import VimletJS  -->
  <title>VC-STORE</title>
  <script src="/eon/eon.js"></script>

  <!-- Example style -->
  <link rel="stylesheet" href="/example/data/css/style.css">
  <link rel="stylesheet" href="/example/data/css/store.css">

</head>

<body>

  <!-- vc-store usage -->
  <script>

    // Store object
    var store = new eon.store();

    store.onLoaded(function () {
      // Set data
      store.data = new Map([["2", {
        name: "Cain",
        last: "Aman"
      }], ["1", {
        name: "Samuel",
        last: "Milano"
      }]]);

      console.log('map', store.data);

      // ** Read entry
      store.read("1").result(function (success, data) {
        console.log('read 1', data);
      });

      // ** Read all
      store.read().sort("name", "ascending").result(function (success, data) {
        console.log('read all', data);
      });

      // ** Create
      store.create({
        id: "3",
        name: "Anais",
        last: "Toro"
      }).result(function (success, data) {
        console.log('read', data);
      });

      // ** Update
      store.update("3", {
        name: "Alain",
        last: "Petre",
        age: 14
      }).result(function (error, data) { });

      // ** Delete
      store.delete().result(function (error, data) {
        console.log('delete', data);
      });

    });

  </script>
</body>

</html>