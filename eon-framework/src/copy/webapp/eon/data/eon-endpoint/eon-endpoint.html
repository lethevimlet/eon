<script type="text/javascript">
  eon.element("eon-endpoint", "", {
    themed: false,
    privateProperties: {
      /*
          @property {String} _misc 
          @description 
      */
      _misc: {
        value: ""
      },
      /*
          @property {String} _refs 
          @description 
      */
      _refs: {
        value: ""
      }
    },
    properties: {
      /*
          @property {String} type 
          @description
          Values: memory, rest, graphQL
      */
      type: {
        value: "memory"
      },
      /*
          @property {Object} adapter 
          @description
      */
      adapter: {
        value: {}
      }
    },
    functions: {
    },
    privateFunctions: {
      /*
          @function _createCallbacks
          @description 
      */
      createCallbacks: function () {
        var el = this;
        eon.createCallback("onLoaded", el);
      },
      /*
          @function _importAdapter
          @description 
      */
      importAdapter: function () {
        var el = this;
        var path;
        // TODO ** Get endpoint adapter path
        if(el.type == "memory") {
          path = eon.basePath + "/data/eon-endpoint/adapter/MemoryAdapter.js"
        } else if (el.type == "rest") {
          path = eon.basePath + "/data/eon-endpoint/adapter/RestAdapter.js"
        } else if (el.type == "graphQL") {
          path = eon.basePath + "/data/eon-endpoint/adapter/GraphQLAdapter.js"
        }
        // ** TODO - Make paths relative
        eon.amd.require([
          eon.basePath + path
        ], function (adapter) {
          el.adapter = adapter;
          // Trigger user callback once the adapter has been loaded
          eon.triggerCallback("onLoaded", el, el, [el]);
        });
      }
    },
    onCreated: function () {
      var el = this;
       // Import adapter
       el._importAdapter();
    }
  });
</script>