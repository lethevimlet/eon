<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <!-- Import VimletJS  -->
  <title>VC-STORE</title>
  <script src="/vcomet/vcomet.js"></script>

  <!-- UI components -->
  <script>
    vcomet.import("/vcomet/data/vc-newstore/vc-newstore.html");
    vcomet.import("/vcomet/data/vc-endpoint/vc-endpoint.html");
  </script>

  <!-- Example style -->
  <link rel="stylesheet"
      href="/example/data/css/style.css">
  <link rel="stylesheet"
      href="/example/data/css/store.css">

</head>

<body>

    <!-- vc-store dummy -->
    <vc-newstore></vc-newstore>
    
    <!-- vc-store usage -->
    <script>

      var store = document.querySelector("vc-newstore");
      var endpoint = document.querySelector("vc-endpoint");
      
      // Wait for store craetion
      store.onCreated(function(){
        // Make sure the store adapter is loaded
        store.onLoaded(function(){

          // -- MEMORY -- 
          // ** Create
          store.create({
            name: "John",
            last: "Doe"
          }).result(function (error, data) {
            console.log("created", data);
            
          });
          // ** Read
          store.read().result(function (error, data) {
            console.log("read", data);
          });
          // ** Update
          store.update("0", {
              name: "Cain",
              last: "Aman"
          }).result(function (error, data) {
            console.log("updated", data);
          });
          console.log("after update", store.data);
          // ** Delete
          store.delete("0").result(function (error, data) {
            console.log("deleted", data);
          });
          console.log("after delete", store.data);
          // ** MEMORY

        });
      });

    </script>
</body>
</html>